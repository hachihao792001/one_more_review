<div class="home">
  <app-header [username]="userInfo!.name"></app-header>
  <div class="home-container">
    <p-carousel
      [value]="carouselItems"
      orientation="vertical"
      [autoplayInterval]="7500"
      [circular]="true"
      styleClass="carousel-container"
    >
      <ng-template let-film pTemplate="item" styleClass="carousel-item">
        <img [src]="film.poster" />
      </ng-template>
    </p-carousel>

    <div class="filter-container">
      <div class="dropdown">
        <p-dropdown
          styleClass="filter-dropdown"
          placeholder="Select a type"
          [options]="types"
          [(ngModel)]="selectedType"
          optionLabel="name"
          optionValue="name"
        ></p-dropdown>
      </div>

      <div class="dropdown">
        <p-dropdown
          placeholder="Select a nation"
          [options]="nations"
          [(ngModel)]="selectedNation"
          optionLabel="name"
          optionValue="name"
        ></p-dropdown>
      </div>
      >
      <div class="drop-down">
        <p-dropdown
          placeholder="Select a year"
          [options]="years"
          [(ngModel)]="selectedYear"
          optionLabel="year"
          optionValue="year"
        ></p-dropdown>
      </div>

      <div
        class="filter-btn"
        (click)="onFilterMovie(selectedType, selectedNation, selectedYear)"
      >
        <i class="pi pi-filter"></i>
      </div>
    </div>

		<div class="page-buttons">
			<button pButton pRipple type="button" class="p-button-outlined p-button-rounded p-button-info mr-2" icon="pi pi-minus" (click)="onPrevPage()"></button>
			<button pButton pRipple type="button" class="p-button-outlined p-button-rounded p-button-info" icon="pi pi-plus" (click)="onNextPage()"></button>
			<p>Page {{this.page + 1}} of {{this.allPage}}</p>
		</div>

    <div class="film-container">
      <div class="list-container">
        <div *ngFor="let film of films">
          <div class="film-item" (click)="onPickFilm(film._id)">
            <img
              src="{{ film.img }}"
              alt="{{ film.name }}"
              class="film-image"
            />
            <div class="film-info">
              <h3>{{ film.name }}</h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</div>
